!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e:e(jQuery)}(function(q){q.expander={version:"1.7.0",defaults:{slicePoint:100,sliceOn:null,preserveWords:!0,normalizeWhitespace:!0,showWordCount:!1,detailPrefix:" ",wordCountText:" ({{count}} words)",widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:!1,wordEnd:/(&(?:[^;]+;)?|[0-9a-zA-Z\u00C0-\u0100]+|[^\u0000-\u007F]+)$/,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",moreLinkClass:"more-link",lessLinkClass:"less-link",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null,afterCollapse:null}},q.fn.expander=function(e){var a="init";"string"==typeof e&&(a=e,e={});var j,I=q.extend({},q.expander.defaults,e),D=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,l=I.wordEnd,$=/<\/?(\w+)[^>]*>/g,A=/<(\w+)[^>]*>/g,W=/<\/(\w+)>/g,z=/(<\/([^>]+)>)\s*$/,F=/^(<[^>]+>)+.?/,H=/\s\s+/g,n={init:function(){this.each(function(){var e,a,l,n,s,t,r,i,o,d,c,p,f,u,m=[],x=[],h="",C={},v=this,b=q(this),w=q([]),y=q.extend({},I,b.data("expander")||q.meta&&b.data()||{}),g=!!b.find("."+y.detailClass).length,E=!!b.find("*").filter(function(){var e=q(this).css("display");return/^block|table|list/.test(e)}).length,S=(E?"div":"span")+"."+y.detailClass,T=y.moreClass+"",k=y.lessClass+"",P=y.expandSpeed||0,O=function(e){return I.normalizeWhitespace?q.trim(e||"").replace(H," "):e}(b.html()),L=O.slice(0,y.slicePoint);if(y.moreSelector="span."+T.split(" ").join("."),y.lessSelector="span."+k.split(" ").join("."),!q.data(this,"expanderInit")){for(q.data(this,"expanderInit",!0),q.data(this,"expander",y),q.each(["onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse"],function(e,a){C[a]=q.isFunction(y[a])}),s=(L=M(L)).replace($,"").length;s<y.slicePoint;)"<"===(n=O.charAt(L.length))&&(n=O.slice(L.length).match(F)[0]),L+=n,s++;for(y.sliceOn&&(L=function(e){var a="ExpandMoreHere374216623",l=e.summaryText.replace(e.sliceOn,a),n=(l=q("<div>"+l+"</div>").text()).indexOf(a),s=e.summaryText.indexOf(e.sliceOn);-1!==n&&n<e.slicePoint&&(e.summaryText=e.allHtml.slice(0,s));return e}({sliceOn:y.sliceOn,slicePoint:y.slicePoint,allHtml:O,summaryText:L}).summaryText),t=(L=M(L,y.preserveWords&&O.slice(L.length).length)).match(A)||[],r=L.match(W)||[],l=[],q.each(t,function(e,a){D.test(a)||l.push(a)}),t=l,a=r.length,e=0;e<a;e++)r[e]=r[e].replace(W,"$1");if(q.each(t,function(e,a){var l=a.replace(A,"$1"),n=q.inArray(l,r);-1===n?(m.push(a),x.push("</"+l+">")):r.splice(n,1)}),x.reverse(),g)o=b.find(S).remove().html(),O=(L=b.html())+o,i="";else{if(o=O.slice(L.length),""===(d=q.trim(o.replace($,"")))||d.split(/\s+/).length<y.widow)return;i=x.pop()||"",L+=x.join(""),o=m.join("")+o}y.moreLabel=b.find(y.moreSelector).length?"":function(e,a){var l='<span class="'+e.moreClass+'">'+e.expandPrefix;e.showWordCount?e.wordCountText=e.wordCountText.replace(/\{\{count\}\}/,a.replace($,"").replace(/\&(?:amp|nbsp);/g,"").replace(/(?:^\s+|\s+$)/,"").match(/\w+/g).length):e.wordCountText="";return l+='<button class="'+e.moreLinkClass+'" aria-label="Show More Info">'+e.expandText+e.wordCountText+"</button></span>"}(y,o),E?o=O:"&"===L.charAt(L.length-1)&&(h=/^[#\w\d\\]+;/.exec(o))&&(o=o.slice(h[0].length),L+=h[0]),L+=i,y.summary=L,y.details=o,y.lastCloseTag=i,C.onSlice&&(y=(l=y.onSlice.call(v,y))&&l.details?l:y),c=function(e,a){var l="span",n=e.summary,s=z.exec(n),t=s?s[2].toLowerCase():"";a?(l="div",s&&"a"!==t&&!e.expandAfterSummary?n=n.replace(z,e.moreLabel+"$1"):n+=e.moreLabel,n='<div class="'+e.summaryClass+'">'+n+"</div>"):n+=e.moreLabel;return[n,e.detailPrefix||"","<",l+' class="'+e.detailClass+'"',">",e.details,"</"+l+">"].join("")}(y,E),b.empty().append(c),f=b.find(S),u=b.find(y.moreSelector),"slideUp"===y.collapseEffect&&"slideDown"!==y.expandEffect||b.is(":hidden")?f.css({display:"none"}):f[y.collapseEffect](0),w=b.find("div."+y.summaryClass),p=function(e){e.preventDefault();var a=e.startExpanded?0:P;u.hide(),w.hide(),C.beforeExpand&&y.beforeExpand.call(v),f.stop(!1,!0)[y.expandEffect](a,function(){f.css({zoom:""}),C.afterExpand&&y.afterExpand.call(v),function(e,a,l){e.collapseTimer&&(j=setTimeout(function(){U(e,a),q.isFunction(e.onCollapse)&&e.onCollapse.call(l,!1)},e.collapseTimer))}(y,f,v)})},u.find("button").unbind("click.expander").bind("click.expander",p),y.userCollapse&&!b.find(y.lessSelector).length&&b.find(S).append('<span class="'+y.lessClass+'">'+y.userCollapsePrefix+'<button class="'+y.lessLinkClass+'" aria-label="Show Less Info">'+y.userCollapseText+"</button></span>"),b.find(y.lessSelector+" button").unbind("click.expander").bind("click.expander",function(e){e.preventDefault(),clearTimeout(j);var a=q(this).closest(S);U(y,a),C.onCollapse&&y.onCollapse.call(v,!0)}),y.startExpanded&&p({preventDefault:function(){},startExpanded:!0})}})},destroy:function(){this.each(function(){var e,a,l=q(this);l.data("expanderInit")&&(e=q.extend({},l.data("expander")||{},I),a=l.find("."+e.detailClass).contents(),l.removeData("expanderInit"),l.removeData("expander"),l.find(e.moreSelector).remove(),l.find("."+e.summaryClass).remove(),l.find("."+e.detailClass).after(a).remove(),l.find(e.lessSelector).remove())})}};function M(e,a){return e.lastIndexOf("<")>e.lastIndexOf(">")&&(e=e.slice(0,e.lastIndexOf("<"))),a&&(e=e.replace(l,"")),q.trim(e)}function U(e,a){a.stop(!0,!0)[e.collapseEffect](e.collapseSpeed,function(){a.prev("span."+e.moreClass).show().length||a.parent().children("div."+e.summaryClass).show().find("span."+e.moreClass).show(),e.afterCollapse&&e.afterCollapse.call(a)})}return n[a]&&n[a].call(this),this},q.fn.expander.defaults=q.expander.defaults});